{% extends "stokosm/detail/detail.html" %}
{% block header %}Connection: {{ connection.name }}{% endblock %}

{% block delete_form_action %}
{% url 'stokosm:connection_detail' connection_id=connection.id %}
{% endblock %}

{% block edit_form_action %}
{% url 'stokosm:edit_connection' connection_id=connection.id %}
{% endblock %}

{% block detail %}

<p>Directed: {{ connection.directed }}</p>

<h3>Nodes</h3>

{% if connection.goal1 %}

	<p>{{ connection.goal1 }}<span id="connection_type"></span>{{ connection.goal2 }}</p>

{% elif connection.requirement1 %}
	<p>{{ connection.requirement1 }}<span id="connection_type"></span>{{ connection.requirement2 }}</p>

{% elif connection.project1 %}
	<p>{{ connection.project1 }}<span id="connection_type"></span>{{ connection.project2 }}</p>

{% endif %}

<script type="text/javascript">
var c_type = "";
if ({{ connection.directed|lower }}) {
	{{ connection.direction }} ? c_type = {% autoescape on %}"<-"{% endautoescape %} : c_type = {% autoescape on %}"->"{% endautoescape %}; 
} else {
	c_type = {% autoescape on %}"--"{% endautoescape %};
}
document.getElementById("connection_type").innerHTML = c_type;
</script>

{% endblock %}
